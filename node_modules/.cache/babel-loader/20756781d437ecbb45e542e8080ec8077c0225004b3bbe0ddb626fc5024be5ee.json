{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"worship-page\"\n};\nconst _hoisted_2 = {\n  class: \"container\"\n};\nconst _hoisted_3 = {\n  class: \"worship-container\"\n};\nconst _hoisted_4 = {\n  class: \"worship-video\"\n};\nconst _hoisted_5 = [\"src\"];\nconst _hoisted_6 = {\n  class: \"worship-message\"\n};\nconst _hoisted_7 = {\n  key: 0,\n  class: \"continue-section\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"h1\", null, _toDisplayString(_ctx.$t('worship.title')), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"video\", {\n    ref: \"worshipVideo\",\n    src: $data.worshipVideoSrc,\n    autoplay: \"\",\n    muted: \"\",\n    onEnded: _cache[0] || (_cache[0] = (...args) => $options.onVideoEnded && $options.onVideoEnded(...args)),\n    class: \"video-player\"\n  }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_5)]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"h2\", null, _toDisplayString($data.worshipMessage), 1 /* TEXT */), _createElementVNode(\"p\", null, _toDisplayString($data.worshipDescription), 1 /* TEXT */)]), $data.showContinueButton ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [_createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.continueToMerit && $options.continueToMerit(...args)),\n    class: \"continue-btn\"\n  }, \" 查看功德 \")])) : _createCommentVNode(\"v-if\", true)])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_toDisplayString","_ctx","$t","_hoisted_3","_hoisted_4","ref","src","$data","worshipVideoSrc","autoplay","muted","onEnded","_cache","args","$options","onVideoEnded","_hoisted_6","worshipMessage","worshipDescription","showContinueButton","_hoisted_7","onClick","continueToMerit"],"sources":["/Users/Jordan/workSpace/temple/src/views/WorshipPage.vue"],"sourcesContent":["<template>\n  <div class=\"worship-page\">\n    <div class=\"container\">\n      <h1>{{ $t('worship.title') }}</h1>\n      <div class=\"worship-container\">\n        <div class=\"worship-video\">\n          <video\n            ref=\"worshipVideo\"\n            :src=\"worshipVideoSrc\"\n            autoplay\n            muted\n            @ended=\"onVideoEnded\"\n            class=\"video-player\"\n          ></video>\n        </div>\n        <div class=\"worship-message\">\n          <h2>{{ worshipMessage }}</h2>\n          <p>{{ worshipDescription }}</p>\n        </div>\n        <div v-if=\"showContinueButton\" class=\"continue-section\">\n          <button @click=\"continueToMerit\" class=\"continue-btn\">\n            查看功德\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { useRouter } from 'vue-router'\nimport { useI18n } from 'vue-i18n'\nimport { useAppStore } from '@/stores/app'\n\nexport default {\n  name: 'WorshipPage',\n  setup() {\n    const router = useRouter()\n    const { t } = useI18n()\n    const appStore = useAppStore()\n    \n    // 语言感知的导航函数\n    const navigateTo = (path) => {\n      const currentPath = router.currentRoute.value.path\n      const isEnglish = currentPath.startsWith('/en')\n      const targetPath = isEnglish ? `/en${path}` : path\n      router.push(targetPath)\n    }\n    \n    return {\n      router,\n      t,\n      appStore,\n      navigateTo\n    }\n  },\n  data() {\n    return {\n      worshipVideoSrc: '/videos/worship.mp4',\n      worshipMessage: '虔诚上香',\n      worshipDescription: '正在为您上香祈福...',\n      showContinueButton: false\n    }\n  },\n  mounted() {\n    // 如果没有视频文件，3秒后自动显示继续按钮\n    setTimeout(() => {\n      this.onVideoEnded()\n    }, 3000)\n  },\n  methods: {\n    onVideoEnded() {\n      this.worshipMessage = '上香完成'\n      this.worshipDescription = '神明已收到您的祈福，功德已增加！'\n      this.showContinueButton = true\n      \n      // 增加额外的功德分（上香完成奖励）\n      this.appStore.addMeritPoints(5)\n    },\n    continueToMerit() {\n      this.router.push('/merit')\n    }\n  }\n}\n</script>\n\n<style scoped>\n.worship-page {\n  min-height: 100vh;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 2rem;\n}\n\n.container {\n  max-width: 600px;\n  width: 100%;\n}\n\nh1 {\n  text-align: center;\n  color: white;\n  margin-bottom: 2rem;\n  font-size: 2.5rem;\n}\n\n.worship-container {\n  background: rgba(255, 255, 255, 0.9);\n  border-radius: 20px;\n  padding: 2rem;\n  backdrop-filter: blur(10px);\n  text-align: center;\n}\n\n.worship-video {\n  margin-bottom: 2rem;\n}\n\n.video-player {\n  width: 100%;\n  max-width: 400px;\n  height: 300px;\n  border-radius: 15px;\n  object-fit: cover;\n}\n\n.worship-message {\n  margin-bottom: 2rem;\n}\n\n.worship-message h2 {\n  color: #333;\n  margin-bottom: 1rem;\n  font-size: 1.8rem;\n}\n\n.worship-message p {\n  color: #666;\n  font-size: 1.1rem;\n}\n\n.continue-btn {\n  padding: 1rem 2rem;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  border: none;\n  border-radius: 10px;\n  font-size: 1.2rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.continue-btn:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);\n}\n</style> "],"mappings":";;EACOA,KAAK,EAAC;AAAc;;EAClBA,KAAK,EAAC;AAAW;;EAEfA,KAAK,EAAC;AAAmB;;EACvBA,KAAK,EAAC;AAAe;;;EAUrBA,KAAK,EAAC;AAAiB;;;EAIGA,KAAK,EAAC;;;uBAlB3CC,mBAAA,CAyBM,OAzBNC,UAyBM,GAxBJC,mBAAA,CAuBM,OAvBNC,UAuBM,GAtBJD,mBAAA,CAAkC,YAAAE,gBAAA,CAA3BC,IAAA,CAAAC,EAAE,mCACTJ,mBAAA,CAoBM,OApBNK,UAoBM,GAnBJL,mBAAA,CASM,OATNM,UASM,GARJN,mBAAA,CAOS;IANPO,GAAG,EAAC,cAAc;IACjBC,GAAG,EAAEC,KAAA,CAAAC,eAAe;IACrBC,QAAQ,EAAR,EAAQ;IACRC,KAAK,EAAL,EAAK;IACJC,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,YAAA,IAAAD,QAAA,CAAAC,YAAA,IAAAF,IAAA,CAAY;IACpBlB,KAAK,EAAC;0DAGVG,mBAAA,CAGM,OAHNkB,UAGM,GAFJlB,mBAAA,CAA6B,YAAAE,gBAAA,CAAtBO,KAAA,CAAAU,cAAc,kBACrBnB,mBAAA,CAA+B,WAAAE,gBAAA,CAAzBO,KAAA,CAAAW,kBAAkB,iB,GAEfX,KAAA,CAAAY,kBAAkB,I,cAA7BvB,mBAAA,CAIM,OAJNwB,UAIM,GAHJtB,mBAAA,CAES;IAFAuB,OAAK,EAAAT,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAQ,eAAA,IAAAR,QAAA,CAAAQ,eAAA,IAAAT,IAAA,CAAe;IAAElB,KAAK,EAAC;KAAe,QAEtD,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}