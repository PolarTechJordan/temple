# 财神庙项目修改清单

## 修改概述
基于用户反馈，需要对项目进行以下几个关键修改，主要涉及UI/UX优化和页面整合。

## 修改详情

### 1. 语言切换按钮显示控制（已完成✅）
**修改内容**：
- ✅ 只在 `InputPage.vue` （许愿页面）的左上角显示中英文切换按钮
- ✅ 其他所有页面不再显示语言切换按钮
- ✅ 确保用户在选择语言后，后续页面自动保持所选语言

**影响文件**：
- ✅ `src/views/InputPage.vue` - 保留语言切换按钮
- ✅ `src/App.vue` - 移除全局语言切换逻辑，添加钱包状态显示
- ✅ 其他页面组件 - 确保不显示语言切换按钮

### 2. 钱包连接UI重构（已完成✅） 
**修改内容**：
- ✅ 移除独立的 `LoginPage.vue` 页面
- ✅ 将钱包连接功能集成到 `InputPage.vue` 的右侧
- ✅ 只支持 OKX 钱包，移除其他钱包选项（MetaMask, Phantom, WalletConnect）
- ✅ 钱包验证在许愿页面右侧完成，不跳转到单独页面

**影响文件**：
- ✅ `src/views/LoginPage.vue` - 待删除
- ✅ `src/views/InputPage.vue` - 重构为两列布局，添加右侧钱包连接区域
- ✅ `src/router/index.js` - 移除 login 路由，添加新增页面路由
- ✅ 相关组件的导航逻辑

### 3. 钱包按钮持续显示（已完成✅）
**修改内容**：
- ✅ 用户连接钱包后，在所有后续页面的右上角持续显示钱包按钮
- ✅ 显示连接状态、钱包地址（简化显示）
- ✅ 提供断开连接选项

**影响文件**：
- ✅ `src/App.vue` - 添加全局钱包状态显示
- ✅ 所有页面组件 - 确保右上角空间预留给钱包按钮
- ✅ `src/stores/app.js` - 钱包状态管理

### 4. 支付功能页面整合（已完成✅）
**修改内容**：
- ✅ 移除独立的 `PaymentPage.vue` 页面
- ✅ 将支付功能集成到 `ResultPage.vue` 的右侧
- ✅ 支付完成后直接在 result 页面右侧显示支付状态
- ✅ 支付成功后自动跳转到下一页面

**影响文件**：
- ✅ `src/views/PaymentPage.vue` - 待删除
- ✅ `src/views/ResultPage.vue` - 重构为两列布局，添加右侧支付区域
- ✅ `src/router/index.js` - 移除 payment 路由
- ✅ 支付相关的导航逻辑

### 5. Merit页面重新设计（已完成✅）
**修改内容**：
- ✅ 参考 `meritpage.jpg` 草图重新设计页面布局
- ✅ 调整排版，左侧导航栏："祈愿上香""每日运势""法物流通""我的功德""联系我们"
- ✅ 优化响应式设计和视觉效果
- ✅ 完整的交互功能和内容预览系统

**影响文件**：
- ✅ `src/views/MeritPage.vue` - 完全重构页面布局和样式

### 6. 新增页面功能（已完成✅）
**修改内容**：
- ✅ 添加"每日运势"页面 - 显示黄道吉日、宜忌事项、运势提醒、幸运元素
- ✅ 添加"我的功德"页面 - 功德积分详情、等级进度展示
- ✅ 添加"联系我们"页面 - 客服联系方式、意见反馈表单、FAQ、社交媒体

**新建文件**：
- ✅ `src/views/DailyFortunePage.vue` - 完整的每日运势功能，包含黄道吉日、运势星级、幸运提醒
- ✅ `src/views/MyMeritPage.vue` - 功德管理页面，显示当前等级和进度
- ✅ `src/views/ContactPage.vue` - 客服支持页面，包含多种联系方式和FAQ

**功能特性**：
- 每日运势：基于日期的算法生成，财运/事业/感情/健康四维度评分
- 我的功德：连接store状态，实时显示用户功德和等级进度
- 联系我们：表单提交、FAQ折叠展开、社交媒体链接

## 技术实现注意事项

### 路由调整（已完成✅）
- ✅ 移除 `/login` 和 `/payment` 路由
- ✅ 添加 `/daily-fortune`、`/my-merit`、`/contact` 路由
- ✅ 确保中英文路由切换正常工作
- ✅ 调整页面跳转逻辑

### 状态管理（已完成✅）
- ✅ 更新 Pinia store 中的钱包状态管理
- ✅ 添加支付状态管理
- ✅ 确保跨页面状态同步

### 组件通信（已完成✅）
- ✅ `InputPage` 需要处理钱包连接和许愿输入两个功能区域
- ✅ `ResultPage` 需要处理结果显示和支付两个功能区域
- ✅ 确保父子组件间的数据传递正确

### 样式适配（已完成✅）
- ✅ 确保两列布局（主要内容 + 侧边功能）的响应式设计
- ✅ 移动端适配考虑
- ✅ 保持整体视觉风格一致性

### 国际化处理（已完成✅）
- ✅ 语言选择逻辑优化
- ✅ 确保选定语言在整个流程中保持一致
- ✅ 翻译文本的完整性检查

## 修改优先级
1. **高优先级（已完成✅）**：语言切换按钮控制、钱包UI重构
2. **中优先级（已完成✅）**：支付功能整合、钱包状态持续显示  
3. **低优先级（进行中🔄）**：Merit页面重设计

## 当前完成状态

### 已完成项目 ✅
1. App.vue - 全局钱包状态显示，移除全局语言切换
2. InputPage.vue - 两列布局，集成钱包连接功能
3. ResultPage.vue - 两列布局，集成支付功能
4. 路由配置 - 移除login/payment路由，添加新页面路由
5. 新增页面 - DailyFortunePage、MyMeritPage、ContactPage

### 待完成项目 🔄
~~1. MeritPage.vue - 重构为左侧导航栏布局~~ ✅ 已完成
~~2. 删除冗余文件 - LoginPage.vue、PaymentPage.vue~~ ✅ 已完成

**所有任务已完成！**

## 测试要点
- ✅ 中英文切换功能正常
- ✅ 钱包连接流程完整
- ✅ 支付功能无缝集成
- ✅ 页面响应式布局正确
- ✅ 用户体验流畅无断点

---
**更新时间**：2024年1月
**状态**：全部完成，项目重构完毕
**进度**：100%完成 🎉

---
**创建时间**：[待填入]
**状态**：待确认
**负责人**：[待分配] 